import{O as B,_ as b}from"./index-CvfRboU1.js";import{S as z,I as C,T as N,e as V,B as W,_ as q}from"./naive-ui-Ck8OEwu2.js";import{d as F,r as _,t as I,w as n,k as l,q as o,G as r,z as p,j as R}from"./@vue-CubVVfkF.js";const S={class:"whisper-wrap"},T={class:"whisper-line"},U={class:"whisper-line send-wrap"},j=F({__name:"whisper-add-friend",props:{show:{type:Boolean,default:!1},user:{}},emits:["success"],setup(c,{emit:d}){const u=c,t=_(""),a=_(!1),m=d,i=()=>{m("success")},w=()=>{a.value=!0,B({user_id:u.user.id,greetings:t.value}).then(s=>{window.$message.success("发送成功"),a.value=!1,t.value="",i()}).catch(s=>{a.value=!1})};return(s,e)=>{const f=N,h=C,g=z,v=V,y=W,x=q;return R(),I(x,{show:s.show,"onUpdate:show":i,class:"whisper-card",preset:"card",size:"small",title:"申请添加朋友","mask-closable":!1,bordered:!1,style:{width:"360px"}},{default:n(()=>[l("div",S,[o(g,{"show-icon":!1},{default:n(()=>[e[1]||(e[1]=r(" 发送添加朋友申请给: ",-1)),o(h,{style:{"max-width":"100%"}},{default:n(()=>[o(f,{type:"success"},{default:n(()=>[r(p(s.user.nickname)+"@"+p(s.user.username),1)]),_:1})]),_:1})]),_:1}),l("div",T,[o(v,{type:"textarea",placeholder:"请输入真挚的问候语",autosize:{minRows:5,maxRows:10},value:t.value,"onUpdate:value":e[0]||(e[0]=k=>t.value=k),maxlength:"120","show-count":""},null,8,["value"])]),l("div",U,[o(y,{strong:"",secondary:"",type:"primary",loading:a.value,onClick:w},{default:n(()=>[...e[2]||(e[2]=[r(" 发送 ",-1)])]),_:1},8,["loading"])])])]),_:1},8,["show"])}}}),M=b(j,[["__scopeId","data-v-d01d3648"]]);export{M as W};
